<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LUV Edition 1. 22.01.26</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <img src="assets/luv-logo.png" alt="LUV Logo" class="logo">
  <p class="edition">Edition 1. 22.01.26</p>
</header>

<div class="viewer-wrapper">
  <div class="viewer">
    <button class="nav-btn" onclick="prev()">←</button>
    <div class="main-image-container">
      <img id="viewerImage" src="" alt="photo" loading="lazy">
    </div>
    <button class="nav-btn" onclick="next()">→</button>
  </div>

  <div class="download-container">
    <a id="downloadBtn" href="" download class="download-btn">Download</a>
  </div>

  <div class="thumbnails" id="thumbnails"></div>
</div>

<p class="hint">Swipe like it’s Tinder to browse!</p>

<script>
const baseName = "LUV_220126";
const totalPhotos = 65;

// CUSTOM ORDER ARRAY
// Replace these numbers with the order you want
const customOrder = [
  25, 1, 14, 31, 34, 41, 43, 2, 7, 15, 42, 54, 61, 32, 48, 55, 58, 57, 63, 4, 56, 64, 44, 11, 8, 13, 3, 5, 6, 9, 10, 12, 16, 18, 62, 19, 17, 21, 22, 23, 24, 20, 27, 26, 30, 28, 35, 29, 33, 37, 36, 38, 39, 40, 45, 46, 47, 49, 50, 51, 52, 53, 59, 60, 65  
];

let currentIndex = 0; // pointer in customOrder array

const img = document.getElementById("viewerImage");
const thumbsContainer = document.getElementById("thumbnails");
const downloadBtn = document.getElementById("downloadBtn");

// Generate thumbnails using custom order
customOrder.forEach((photoNum, index) => {
  const thumb = document.createElement('img');
  thumb.src = `photos/thumbs/${baseName} (${photoNum}).jpg`;
  thumb.className = 'thumbnail';
  thumb.loading = 'lazy';
  thumb.alt = `Photo ${photoNum}`;
  thumb.addEventListener('click', () => {
    currentIndex = index;
    loadImage();
  });
  thumbsContainer.appendChild(thumb);
});

function loadImage() {
  const photoNum = customOrder[currentIndex];

  // Fade effect
  img.style.opacity = 0;
  setTimeout(() => {
    const fullPath = `photos/full/${baseName} (${photoNum}).jpg`;
    img.src = fullPath;
    img.style.opacity = 1;

    // Update download button
    downloadBtn.href = fullPath;
    downloadBtn.download = `${baseName} (${photoNum}).jpg`;

    // Update active thumbnail
    const allThumbs = document.querySelectorAll('.thumbnail');
    allThumbs.forEach((t, index) => {
      t.classList.toggle('active', index === currentIndex);
    });
  }, 100);
}

function next() {
  currentIndex = (currentIndex + 1) % customOrder.length;
  loadImage();
}

function prev() {
  currentIndex = (currentIndex - 1 + customOrder.length) % customOrder.length;
  loadImage();
}

// Mobile swipe support
let touchStartX = 0;
let touchEndX = 0;
const viewerWrapper = document.querySelector('.viewer-wrapper');

viewerWrapper.addEventListener('touchstart', e => {
  touchStartX = e.changedTouches[0].screenX;
});

viewerWrapper.addEventListener('touchend', e => {
  touchEndX = e.changedTouches[0].screenX;
  handleGesture();
});

function handleGesture() {
  if (touchEndX < touchStartX - 50) next();
  if (touchEndX > touchStartX + 50) prev();
}

// Initial load
loadImage();
</script>

</body>
</html>
